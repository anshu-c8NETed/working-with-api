<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 1 - GET Request (Fetch Users)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .exercise-info {
            background: linear-gradient(135deg, #f5f7ff 0%, #e8eeff 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid #667eea;
        }
        
        .exercise-info h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .info-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
        
        .info-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #48bb78;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #38a169;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: #f56565;
            color: white;
        }
        
        .btn-danger:hover {
            background: #e53e3e;
            transform: translateY(-2px);
        }
        
        .btn-info {
            background: #4299e1;
            color: white;
        }
        
        .btn-info:hover {
            background: #3182ce;
        }
        
        #loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
            font-size: 18px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .stat-card h3 {
            font-size: 2.5em;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .stat-card p {
            opacity: 0.95;
            font-size: 0.9em;
        }
        
        #users {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        
        .user-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .user-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s;
        }
        
        .user-card:hover::before {
            transform: scaleX(1);
        }
        
        .user-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }
        
        .user-card h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-id {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 5px;
            font-size: 0.7em;
        }
        
        .user-card p {
            color: #4a5568;
            margin: 10px 0;
            display: flex;
            align-items: flex-start;
            gap: 8px;
            line-height: 1.5;
        }
        
        .user-card .label {
            font-weight: 600;
            color: #667eea;
            min-width: 80px;
        }
        
        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #f56565;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .error-icon {
            font-size: 2em;
        }
        
        .code-display {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .code-display pre {
            margin: 0;
        }
        
        .learning-tip {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
        }
        
        .learning-tip h4 {
            color: #f59e0b;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö Exercise 1: GET Request - Display Users</h1>
        
        <div class="exercise-info">
            <h3>üéØ Learning Objectives:</h3>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>Understand how <strong>GET requests</strong> work</li>
                <li>Practice fetching data from REST API</li>
                <li>Learn difference between <strong>Fetch API</strong> and <strong>Axios</strong></li>
                <li>Handle loading states and errors properly</li>
                <li>Display API response data dynamically</li>
            </ul>
            
            <div class="info-grid">
                <div class="info-item">
                    <strong>üì° API Endpoint:</strong>
                    /users
                </div>
                <div class="info-item">
                    <strong>üîß Method:</strong>
                    GET
                </div>
                <div class="info-item">
                    <strong>üì¶ Response:</strong>
                    Array of 10 users
                </div>
                <div class="info-item">
                    <strong>‚úÖ Status Code:</strong>
                    200 OK
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn-primary" onclick="loadUsers()">üîÑ Load with Fetch API</button>
            <button class="btn-secondary" onclick="loadUsersAxios()">‚ö° Load with Axios</button>
            <button class="btn-danger" onclick="clearUsers()">üóëÔ∏è Clear All</button>
            <button class="btn-info" onclick="toggleCode()">{ } Show Code</button>
        </div>
        
        <div id="stats" style="display: none;">
            <div class="stats">
                <div class="stat-card">
                    <h3 id="totalUsers">0</h3>
                    <p>Total Users Loaded</p>
                </div>
                <div class="stat-card">
                    <h3 id="responseTime">0ms</h3>
                    <p>API Response Time</p>
                </div>
                <div class="stat-card">
                    <h3 id="statusCode">-</h3>
                    <p>HTTP Status Code</p>
                </div>
                <div class="stat-card">
                    <h3 id="method">-</h3>
                    <p>Method Used</p>
                </div>
            </div>
        </div>
        
        <div id="loading" style="display: none;">
            <div class="spinner"></div>
            <p><strong>Loading users from API...</strong></p>
            <p style="font-size: 14px; color: #888; margin-top: 10px;">
                Making GET request to JSONPlaceholder API
            </p>
        </div>
        
        <div id="error" style="display: none;" class="error">
            <span class="error-icon">‚ö†Ô∏è</span>
            <div>
                <strong style="display: block; margin-bottom: 5px;">Error Occurred:</strong>
                <span id="errorMessage"></span>
            </div>
        </div>
        
        <div id="users"></div>
        
        <div id="codeDisplay" style="display: none;" class="code-display">
            <h4 style="color: #48bb78; margin-bottom: 15px;">üìù Code Used (Fetch API):</h4>
            <pre>async function loadUsers() {
  try {
    // Start timer
    const startTime = Date.now();
    
    // Make GET request
    const response = await fetch(
      'https://jsonplaceholder.typicode.com/users'
    );
    
    // Calculate response time
    const endTime = Date.now();
    const responseTime = endTime - startTime;
    
    // Check if request was successful
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    // Parse JSON response
    const users = await response.json();
    
    // Display users (see console for data structure)
    console.log('Users data:', users);
    
    return users;
  } catch (error) {
    console.error('Error fetching users:', error);
  }
}</pre>
        </div>
        
        <div class="learning-tip">
            <h4>üí° Key Learning Points:</h4>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li><strong>GET requests</strong> don't use request body - data comes in response</li>
                <li><strong>await fetch()</strong> returns Response object, need <strong>.json()</strong> to parse</li>
                <li>Always check <strong>response.ok</strong> before parsing</li>
                <li><strong>Axios</strong> automatically parses JSON (access via <strong>response.data</strong>)</li>
                <li>Use <strong>try-catch</strong> to handle network errors gracefully</li>
            </ul>
        </div>
    </div>

    <!-- Include Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        // Toggle code display
        function toggleCode() {
            const codeDisplay = document.getElementById('codeDisplay');
            const btn = event.target;
            
            if (codeDisplay.style.display === 'none') {
                codeDisplay.style.display = 'block';
                btn.textContent = '‚úñ Hide Code';
            } else {
                codeDisplay.style.display = 'none';
                btn.textContent = '{ } Show Code';
            }
        }
        
        // Using Fetch API (Built-in JavaScript)
        async function loadUsers() {
            const loadingEl = document.getElementById('loading');
            const errorEl = document.getElementById('error');
            const errorMsg = document.getElementById('errorMessage');
            const usersEl = document.getElementById('users');
            const statsEl = document.getElementById('stats');
            
            try {
                // Show loading, hide error
                loadingEl.style.display = 'block';
                errorEl.style.display = 'none';
                usersEl.innerHTML = '';
                statsEl.style.display = 'none';
                
                // Record start time
                const startTime = Date.now();
                
                // Make GET request
                console.log('üöÄ Making GET request with Fetch...');
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                
                // Record end time
                const endTime = Date.now();
                const responseTime = endTime - startTime;
                
                console.log('üì° Response received:', response);
                
                // Check if request was successful
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                // Parse JSON response
                const users = await response.json();
                console.log('‚úÖ Parsed users data:', users);
                
                // Hide loading
                loadingEl.style.display = 'none';
                
                // Show stats
                statsEl.style.display = 'block';
                document.getElementById('totalUsers').textContent = users.length;
                document.getElementById('responseTime').textContent = responseTime + 'ms';
                document.getElementById('statusCode').textContent = response.status;
                document.getElementById('method').textContent = 'Fetch API';
                
                // Display users in cards
                usersEl.innerHTML = users.map(user => `
                    <div class="user-card">
                        <h3>
                            üë§ ${user.name}
                            <span class="user-id">ID: ${user.id}</span>
                        </h3>
                        <p><span class="label">üìß Email:</span> <span>${user.email}</span></p>
                        <p><span class="label">üì± Phone:</span> <span>${user.phone}</span></p>
                        <p><span class="label">üè¢ Company:</span> <span>${user.company.name}</span></p>
                        <p><span class="label">üíº Position:</span> <span>${user.company.catchPhrase}</span></p>
                        <p><span class="label">üåê Website:</span> <span>${user.website}</span></p>
                        <p><span class="label">üìç City:</span> <span>${user.address.city}</span></p>
                        <p><span class="label">üó∫Ô∏è Address:</span> <span>${user.address.street}, ${user.address.suite}</span></p>
                    </div>
                `).join('');
                
                console.log('‚úÖ Fetch API: Successfully loaded', users.length, 'users in', responseTime + 'ms');
                
            } catch (error) {
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                
                // Show detailed error message
                if (error instanceof TypeError) {
                    errorMsg.textContent = 'Network error - Please check your internet connection';
                } else {
                    errorMsg.textContent = error.message;
                }
                
                console.error('‚ùå Error fetching users:', error);
            }
        }
        
        // Using Axios (External Library)
        async function loadUsersAxios() {
            const loadingEl = document.getElementById('loading');
            const errorEl = document.getElementById('error');
            const errorMsg = document.getElementById('errorMessage');
            const usersEl = document.getElementById('users');
            const statsEl = document.getElementById('stats');
            
            try {
                loadingEl.style.display = 'block';
                errorEl.style.display = 'none';
                usersEl.innerHTML = '';
                statsEl.style.display = 'none';
                
                const startTime = Date.now();
                
                // Make GET request with Axios
                console.log('üöÄ Making GET request with Axios...');
                const response = await axios.get('https://jsonplaceholder.typicode.com/users');
                
                const endTime = Date.now();
                const responseTime = endTime - startTime;
                
                console.log('üì° Axios response:', response);
                console.log('‚úÖ Users data (direct access):', response.data);
                
                loadingEl.style.display = 'none';
                
                // Show stats
                statsEl.style.display = 'block';
                document.getElementById('totalUsers').textContent = response.data.length;
                document.getElementById('responseTime').textContent = responseTime + 'ms';
                document.getElementById('statusCode').textContent = response.status;
                document.getElementById('method').textContent = 'Axios';
                
                // Display users (data is directly in response.data - no .json() needed!)
                usersEl.innerHTML = response.data.map(user => `
                    <div class="user-card">
                        <h3>
                            üë§ ${user.name}
                            <span class="user-id">ID: ${user.id}</span>
                        </h3>
                        <p><span class="label">üìß Email:</span> <span>${user.email}</span></p>
                        <p><span class="label">üì± Phone:</span> <span>${user.phone}</span></p>
                        <p><span class="label">üè¢ Company:</span> <span>${user.company.name}</span></p>
                        <p><span class="label">üíº Position:</span> <span>${user.company.catchPhrase}</span></p>
                        <p><span class="label">üåê Website:</span> <span>${user.website}</span></p>
                        <p><span class="label">üìç City:</span> <span>${user.address.city}</span></p>
                        <p><span class="label">üó∫Ô∏è Address:</span> <span>${user.address.street}, ${user.address.suite}</span></p>
                    </div>
                `).join('');
                
                console.log('‚úÖ Axios: Successfully loaded', response.data.length, 'users in', responseTime + 'ms');
                console.log('üí° Note: Axios automatically parsed JSON - no .json() needed!');
                
            } catch (error) {
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                
                if (error.response) {
                    // Server responded with error status
                    errorMsg.textContent = `Server error: ${error.response.status} - ${error.response.statusText}`;
                } else if (error.request) {
                    // Request made but no response
                    errorMsg.textContent = 'No response from server - Please check your internet connection';
                } else {
                    // Something else happened
                    errorMsg.textContent = error.message;
                }
                
                console.error('‚ùå Error fetching users with Axios:', error);
            }
        }
        
        function clearUsers() {
            document.getElementById('users').innerHTML = '';
            document.getElementById('stats').style.display = 'none';
            document.getElementById('error').style.display = 'none';
            document.getElementById('loading').style.display = 'none';
            console.log('üóëÔ∏è Cleared all users from display');
        }
        
        // Educational console messages
        console.log('üìö Exercise 1: GET Request Practice');
        console.log('üéØ Click buttons above to see different ways to fetch data');
        console.log('');
        console.log('üîç What to observe:');
        console.log('   1. Network tab in DevTools (F12) to see actual HTTP request');
        console.log('   2. Response time and status code');
        console.log('   3. Difference between Fetch and Axios syntax');
        console.log('   4. Error handling in action (try disconnecting internet)');
    </script>
</body>
</html>